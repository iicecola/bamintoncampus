{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      isLogin: false,\n      headerLeftEntry: [{\n        itemTitle: '首页',\n        iconUrl: require('@/assets/header-home.svg')\n      }, {\n        itemTitle: '校园',\n        iconUrl: require('@/assets/header-campus.svg')\n      }, {\n        itemTitle: '发现',\n        iconUrl: require('@/assets/header-found.svg')\n      }, {\n        itemTitle: '消息',\n        iconUrl: require('@/assets/header-message.svg')\n      }]\n    };\n  },\n  computed: {\n    userNickname() {\n      //但是由于在每次刷新或者关闭页面时，vuex都会被释放，导致无法获取到用户信息，所以想要获取存储的信息\n      //还是需要通过本地或者后端获取\n      // return this.$store.state.userInfo.userNickname\n      return localStorage.getItem('userNickname');\n    }\n  },\n  methods: {\n    login() {\n      this.$router.push('/login');\n    }\n  },\n  mounted() {\n    if (localStorage.getItem(\"userNickname\")) {\n      this.isLogin = true;\n      console.log(\"已登录\");\n    } else {\n      console.log(\"未登录\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","isLogin","headerLeftEntry","itemTitle","iconUrl","require","computed","userNickname","localStorage","getItem","methods","login","$router","push","mounted","console","log"],"sources":["src/components/Header.vue"],"sourcesContent":["<template>\r\n  <div class=\"header-container\">\r\n    <ul>\r\n        <li class=\"header-left-logo\"><a href=\"#home\"><img src=\"@/assets/logo.png\" width=\"100px\" height=\"60px\"></a></li>\r\n        <li style=\"cursor: pointer;\" v-for=\"(item,index) in headerLeftEntry\" :key=\"index\">\r\n            <div class=\"header-left-icon\">\r\n                <img width=\"25px\" :src=\"item.iconUrl\" alt=\"\">\r\n            </div>\r\n            <div class=\"header-left-item\">\r\n                {{ item.itemTitle }}\r\n            </div>\r\n        </li>\r\n    </ul>\r\n\r\n    <!-- 未登录时显示登录图标 -->\r\n    <div v-if=\"!isLogin\" class=\"header-right-userlogin\" @click=login>\r\n        <div class=\"header-right-item\">\r\n            登录\r\n        </div>\r\n        <div class=\"header-right-icon\">\r\n            <img width=\"25px\" src=\"@/assets/header-login.svg\" alt=\"\">\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 已登录时显示用户昵称和头像 -->\r\n    <div v-else class=\"header-right-userlogin\">\r\n        <div class=\"header-right-item header-right-userNickname\">\r\n            {{ userNickname }}\r\n        </div>\r\n        <div class=\"header-right-avatar\">\r\n            <img width=\"40px\" src=\"@/assets/header-avatar.svg\" alt=\"\">\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Header',\r\n    data(){\r\n        return {\r\n            isLogin:false,\r\n            headerLeftEntry:[\r\n                {itemTitle:'首页',iconUrl:require('@/assets/header-home.svg')},\r\n                {itemTitle:'校园',iconUrl:require('@/assets/header-campus.svg')},\r\n                {itemTitle:'发现',iconUrl:require('@/assets/header-found.svg')},\r\n                {itemTitle:'消息',iconUrl:require('@/assets/header-message.svg')}\r\n            ],\r\n        }\r\n    },\r\n    computed:{\r\n        userNickname(){\r\n            //但是由于在每次刷新或者关闭页面时，vuex都会被释放，导致无法获取到用户信息，所以想要获取存储的信息\r\n            //还是需要通过本地或者后端获取\r\n            // return this.$store.state.userInfo.userNickname\r\n            return localStorage.getItem('userNickname')\r\n        }\r\n    },\r\n    methods:{\r\n        login(){\r\n            this.$router.push('/login')\r\n        }\r\n    },\r\n    mounted(){\r\n        if(localStorage.getItem(\"userNickname\")){\r\n            this.isLogin = true\r\n            console.log(\"已登录\")\r\n        }else{\r\n            console.log(\"未登录\")\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    a {\r\n        text-decoration: none;\r\n    }\r\n\r\n    ul li {\r\n        list-style: none;\r\n    }\r\n\r\n    .header-container{\r\n        width: 100%;\r\n        height: 64px;\r\n        box-shadow: 0 2px 4px #00000014;\r\n    }\r\n\r\n    .header-left-logo {\r\n        display: block;\r\n        margin-left: 20px;\r\n        float: left;\r\n        border-radius: 15px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .header-left-icon {\r\n        float: left;\r\n        height: 64px;\r\n        margin: 6px 7px 0 60px;\r\n        text-align: center;\r\n        line-height: 64px;\r\n    }\r\n\r\n    .header-left-item {\r\n        /* display: block; */\r\n        float: left;\r\n        height: 64px;\r\n        text-align: center;\r\n        line-height: 64px;\r\n    }\r\n\r\n    .header-right-userlogin {\r\n        cursor: pointer;\r\n    }\r\n\r\n    /* 未登录时显示登录和图标 */\r\n    .header-right-icon {\r\n        float: right;\r\n        margin: 6px 7px 0 60px;\r\n        line-height: 64px;\r\n    }\r\n    /* 已登录时显示用户昵称和头像 */\r\n    .header-right-avatar {\r\n        float: right;\r\n        margin: 12px 7px 0 60px;\r\n    }\r\n\r\n    .header-right-item {\r\n        float: right;\r\n        margin-right: 100px;\r\n        line-height: 64px;\r\n    }\r\n\r\n    /* 用户昵称的字体特别设计 */\r\n    .header-right-userNickname {\r\n        font-size: 15px;\r\n        color: rgb(104, 104, 104)\r\n    }\r\n</style>"],"mappings":";AAqCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,eAAA,GACA;QAAAC,SAAA;QAAAC,OAAA,EAAAC,OAAA;MAAA,GACA;QAAAF,SAAA;QAAAC,OAAA,EAAAC,OAAA;MAAA,GACA;QAAAF,SAAA;QAAAC,OAAA,EAAAC,OAAA;MAAA,GACA;QAAAF,SAAA;QAAAC,OAAA,EAAAC,OAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACAC,aAAA;MACA;MACA;MACA;MACA,OAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAN,YAAA,CAAAC,OAAA;MACA,KAAAR,OAAA;MACAc,OAAA,CAAAC,GAAA;IACA;MACAD,OAAA,CAAAC,GAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}